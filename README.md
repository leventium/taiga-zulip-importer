# 239--taiga-webhooks-middleware

## Описание
Проект представляет собой API endpoint для вебхука тайги. Позволяет подключить оповещения об изменениях в тасках тайги в виде сообщений в указанный канал zulip.

## Инструкция по настройке
1. Для работы требуется zulip бот типа "Incoming webhook", для его создания перейдите в zulip "Личные настройки" -> "Боты" -> "Добавить нового бота". Скопируйте zuliprc (кнопка под названием бота) и вставте в файл "zuliprc" в этой директории.
2. Если сервер находится за прокси (например, nginx), впишите префикс который делает proxy_pass на порт сервера в файл конфигурации `config.ini` в поле `ROOT_PATH`, если же префикса нет, то оставьте файл без изменений.
3. Соберите и запустите docker контейнер командами:
```
sudo docker build -t taiga-zulip-webhook .
sudo docker run -dp 8717:8717 taiga-zulip-webhook
```

## Использование
Для использования вебхука перейтите в настройки проекта -> "Интеграции" -> "Webhooks", создайте новый вебхук, формат URL следующий: https://domain-name/ROOT_PATH/Название_канала/Название_топика. ВАЖНО, если в названиях канала или топика есть пробелы -- замените их на нижнее подчёркивание("_"). Секретный код может быть любым, на работу это не влияет.